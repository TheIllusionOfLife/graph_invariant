{
  "schema_version": 3,
  "experiment_id": "phase1_20260212T231418Z",
  "model_name": "gpt-oss:20b",
  "best_candidate_id": "g1_i2_p4_735752370",
  "best_candidate_code_sha256": "8684941a524865323ee78000c0f8042c4654b1c05588cb890fbe9eda0b5ed430",
  "best_val_score": 0.5491013268732999,
  "stop_reason": "early_stop",
  "success": true,
  "config": {
    "seed": 42,
    "target_name": "average_shortest_path_length",
    "num_train_graphs": 50,
    "num_val_graphs": 200,
    "num_test_graphs": 200,
    "max_generations": 20,
    "population_size": 5,
    "migration_interval": 10,
    "island_temperatures": [
      0.3,
      0.3,
      0.8,
      1.2
    ],
    "timeout_sec": 2.0,
    "memory_mb": 256,
    "sandbox_max_workers": null,
    "alpha": 0.5,
    "beta": 0.2,
    "gamma": 0.3,
    "train_score_threshold": 0.3,
    "early_stop_patience": 10,
    "artifacts_dir": "artifacts/experiment_v2",
    "model_name": "gpt-oss:20b",
    "ollama_url": "http://localhost:11434/api/generate",
    "allow_remote_ollama": false,
    "checkpoint_keep_last": 3,
    "experiment_id": null,
    "enable_constrained_fallback": true,
    "stagnation_trigger_generations": 5,
    "constrained_recovery_generations": 3,
    "allow_late_constrained_recovery": true,
    "run_baselines": true,
    "persist_candidate_code_in_summary": true,
    "success_spearman_threshold": 0.85,
    "pysr_niterations": 30,
    "pysr_populations": 8,
    "pysr_procs": 0,
    "pysr_timeout_in_seconds": 60.0,
    "benchmark_seeds": [
      11,
      22,
      33,
      44,
      55
    ],
    "novelty_bootstrap_samples": 1000,
    "novelty_threshold": 0.7,
    "enforce_pysr_parity_for_success": false,
    "pysr_parity_epsilon": 0.0,
    "require_baselines_for_success": false,
    "persist_prompt_and_response_logs": true,
    "llm_timeout_sec": 600.0,
    "enable_self_correction": true,
    "self_correction_max_retries": 1,
    "self_correction_feedback_window": 3,
    "novelty_gate_threshold": 0.15
  },
  "final_generation": 12,
  "island_candidate_counts": {
    "0": 5,
    "1": 5,
    "2": 5,
    "3": 5
  },
  "train_metrics": {
    "spearman": 0.9221128451380551,
    "pearson": 0.8075271854978088,
    "rmse": 3.993504003142475,
    "mae": 3.5046062711478654,
    "valid_count": 50,
    "novelty_bonus": null
  },
  "val_metrics": {
    "spearman": 0.9370055265153013,
    "pearson": 0.8845269069028603,
    "rmse": 3.7143363826152735,
    "mae": 3.285241462565563,
    "valid_count": 200,
    "novelty_bonus": 0.1811952881995048
  },
  "test_metrics": {
    "spearman": 0.9214745368634217,
    "pearson": 0.8666208537750333,
    "rmse": 3.739526649229702,
    "mae": 3.2143026027700445,
    "valid_count": 200,
    "novelty_bonus": 0.2115473963953418
  },
  "sanity_metrics": {
    "spearman": 0.5,
    "pearson": 0.9206565816098238,
    "rmse": 1.9538992242592979,
    "mae": 1.6800161306785106,
    "valid_count": 3,
    "novelty_bonus": null
  },
  "novelty_ci": {
    "validation": {
      "max_ci_upper_abs_rho": 0.8550498668589783,
      "novelty_passed": false,
      "threshold": 0.7,
      "per_invariant": {
        "density": {
          "point_abs_rho": 0.8188047118004952,
          "ci_upper_abs_rho": 0.8550498668589783
        },
        "clustering_coefficient": {
          "point_abs_rho": 0.22746146327746833,
          "ci_upper_abs_rho": 0.3444343995361008
        },
        "degree_assortativity": {
          "point_abs_rho": 0.04753018825470637,
          "ci_upper_abs_rho": 0.17398101519576012
        },
        "transitivity": {
          "point_abs_rho": 0.24038305767365994,
          "ci_upper_abs_rho": 0.36232695850066243
        },
        "average_degree": {
          "point_abs_rho": 0.6043886575754809,
          "ci_upper_abs_rho": 0.6709818869004869
        },
        "max_degree": {
          "point_abs_rho": 0.5549811214410125,
          "ci_upper_abs_rho": 0.6332999138542483
        },
        "spectral_radius": {
          "point_abs_rho": 0.625815645391135,
          "ci_upper_abs_rho": 0.6987423292118898
        },
        "diameter": {
          "point_abs_rho": 0.8065876277000306,
          "ci_upper_abs_rho": 0.8460996564741152
        },
        "algebraic_connectivity": {
          "point_abs_rho": 0.7837665941648542,
          "ci_upper_abs_rho": 0.8344319416792892
        }
      }
    },
    "test": {
      "max_ci_upper_abs_rho": 0.8338868646179035,
      "novelty_passed": false,
      "threshold": 0.7,
      "per_invariant": {
        "density": {
          "point_abs_rho": 0.7496739286164525,
          "ci_upper_abs_rho": 0.7987185258410359
        },
        "clustering_coefficient": {
          "point_abs_rho": 0.11771624025601396,
          "ci_upper_abs_rho": 0.2272585230402864
        },
        "degree_assortativity": {
          "point_abs_rho": 0.18813170329258236,
          "ci_upper_abs_rho": 0.30006100924068585
        },
        "transitivity": {
          "point_abs_rho": 0.10283069825300108,
          "ci_upper_abs_rho": 0.223390013492416
        },
        "average_degree": {
          "point_abs_rho": 0.558568640057695,
          "ci_upper_abs_rho": 0.6342252250503252
        },
        "max_degree": {
          "point_abs_rho": 0.5146898279068193,
          "ci_upper_abs_rho": 0.6001473586285604
        },
        "spectral_radius": {
          "point_abs_rho": 0.5352493812345309,
          "ci_upper_abs_rho": 0.6167666083668294
        },
        "diameter": {
          "point_abs_rho": 0.7884526036046582,
          "ci_upper_abs_rho": 0.8338868646179035
        },
        "algebraic_connectivity": {
          "point_abs_rho": 0.7750648766219157,
          "ci_upper_abs_rho": 0.8237888234946724
        }
      }
    }
  },
  "baseline_comparison": {
    "candidate": {
      "val_spearman": 0.9370055265153013,
      "test_spearman": 0.9214745368634217
    },
    "pysr": {
      "status": "skipped",
      "val_spearman": null,
      "test_spearman": null
    }
  },
  "success_criteria": {
    "success_spearman_threshold": 0.85,
    "threshold_passed": true,
    "require_baselines_for_success": false,
    "baselines_available": true,
    "baselines_healthy": true,
    "stat_baseline_ok": true,
    "pysr_ok": false,
    "baselines_passed": true,
    "enforce_pysr_parity_for_success": false,
    "pysr_parity_epsilon": 0.0,
    "pysr_status": "skipped",
    "candidate_val_spearman": 0.9370055265153013,
    "pysr_val_spearman": null,
    "pysr_parity_passed": true,
    "pysr_parity_reason": "disabled"
  },
  "dataset_fingerprint": "af08648a118017775c4ac728a8e467b5c9cf7e503c9a2ce19baa0b26358f420b",
  "self_correction_stats": {
    "enabled": true,
    "max_retries": 1,
    "feedback_window": 3,
    "attempted_repairs": 36,
    "successful_repairs": 14,
    "failed_repairs": 22,
    "failure_categories": {
      "no_valid_train_predictions": 40,
      "below_novelty_threshold": 53,
      "below_train_threshold": 24
    }
  },
  "best_candidate_code": "def new_invariant(s):\n    \"\"\"\n    Estimate the average shortest path length from pre‑computed graph features.\n    The formula combines random‑graph theory with corrections for clustering,\n    degree heterogeneity, density, and assortativity.  All operations are\n    safeguarded against division by zero and missing values.\n    \"\"\"\n    # Basic graph statistics (safe defaults)\n    n          = s.get('n', 0)\n    avg_deg    = s.get('avg_degree', 0.0) or 1.0          # avoid zero\n    trans      = s.get('transitivity', 0.0) or 0.0\n    avg_clust  = s.get('avg_clustering', 0.0) or 0.0\n    std_deg    = s.get('std_degree', 0.0) or 1.0\n    density    = s.get('density', 0.0) or 1e-6            # avoid zero\n    assort     = s.get('degree_assortativity', 0.0) or 0.0\n\n    eps = 1e-6\n\n    # 1. Random‑graph baseline: log(n)/log(avg_deg+1)\n    base = np.log(max(n, 2)) / np.log(max(avg_deg + 1.0, 2.0))\n\n    # 2. Clustering adjustment: more triangles → longer paths\n    clustering_adj = 1.0 + 0.5 * (trans + avg_clust)\n\n    # 3. Degree variance adjustment: higher variance → shorter paths\n    variance_adj = 1.0 / (1.0 + std_deg / (avg_deg + 1.0))\n\n    # 4. Density adjustment: sparser graphs tend to have longer paths\n    density_adj = np.sqrt(1.0 / (density + eps))\n\n    # 5. Assortativity adjustment: positive assortativity can lengthen paths\n    assort_adj = 1.0 + 0.5 * assort  # range roughly [0.5, 1.5]\n\n    return base * clustering_adj * variance_adj * density_adj * assort_adj"
}