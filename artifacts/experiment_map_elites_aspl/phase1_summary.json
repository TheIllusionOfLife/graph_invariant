{
  "schema_version": 3,
  "experiment_id": "phase1_20260214T184042Z",
  "fitness_mode": "correlation",
  "model_name": "gpt-oss:20b",
  "best_candidate_id": "g26_i2_p1_727748755",
  "best_candidate_code_sha256": "60aea36e0681190c3b1a03c258a50bb04f748a2ba020614a270999c62edbb198",
  "best_val_score": 0.5524962124229404,
  "stop_reason": "max_generations_reached",
  "success": true,
  "config": {
    "seed": 42,
    "target_name": "average_shortest_path_length",
    "num_train_graphs": 50,
    "num_val_graphs": 200,
    "num_test_graphs": 200,
    "max_generations": 30,
    "population_size": 5,
    "migration_interval": 10,
    "island_temperatures": [
      0.3,
      0.3,
      0.8,
      1.2
    ],
    "timeout_sec": 2.0,
    "memory_mb": 256,
    "sandbox_max_workers": null,
    "alpha": 0.5,
    "beta": 0.2,
    "gamma": 0.3,
    "train_score_threshold": 0.3,
    "early_stop_patience": 15,
    "artifacts_dir": "artifacts/experiment_map_elites_aspl",
    "model_name": "gpt-oss:20b",
    "ollama_url": "http://localhost:11434/api/generate",
    "allow_remote_ollama": false,
    "checkpoint_keep_last": 3,
    "experiment_id": null,
    "enable_constrained_fallback": true,
    "stagnation_trigger_generations": 5,
    "constrained_recovery_generations": 3,
    "allow_late_constrained_recovery": true,
    "run_baselines": true,
    "persist_candidate_code_in_summary": true,
    "success_spearman_threshold": 0.85,
    "pysr_niterations": 30,
    "pysr_populations": 8,
    "pysr_procs": 0,
    "pysr_timeout_in_seconds": 60.0,
    "benchmark_seeds": [
      11,
      22,
      33,
      44,
      55
    ],
    "novelty_bootstrap_samples": 1000,
    "novelty_threshold": 0.7,
    "enforce_pysr_parity_for_success": false,
    "pysr_parity_epsilon": 0.0,
    "require_baselines_for_success": false,
    "persist_prompt_and_response_logs": true,
    "llm_timeout_sec": 600.0,
    "enable_self_correction": true,
    "self_correction_max_retries": 1,
    "self_correction_feedback_window": 3,
    "novelty_gate_threshold": 0.15,
    "fitness_mode": "correlation",
    "bound_tolerance": 1e-09,
    "success_bound_score_threshold": 0.7,
    "success_satisfaction_threshold": 0.95,
    "enable_map_elites": true,
    "map_elites_bins": 5
  },
  "final_generation": 30,
  "island_candidate_counts": {
    "0": 5,
    "1": 5,
    "2": 5,
    "3": 5
  },
  "train_metrics": {
    "spearman": 0.9360384153661465,
    "pearson": 0.8274657731773545,
    "rmse": 28.56998819661212,
    "mae": 22.202602578050605,
    "valid_count": 50,
    "novelty_bonus": null
  },
  "val_metrics": {
    "spearman": 0.9352973339063481,
    "pearson": 0.8029308698567742,
    "rmse": 28.996786834076744,
    "mae": 21.467898472425823,
    "valid_count": 200,
    "novelty_bonus": 0.1643442214042362
  },
  "test_metrics": {
    "spearman": 0.9470658869468552,
    "pearson": 0.8279465139808126,
    "rmse": 27.20630499138985,
    "mae": 19.81546647655003,
    "valid_count": 200,
    "novelty_bonus": 0.172058180497915
  },
  "sanity_metrics": {
    "spearman": 0.5,
    "pearson": 0.6120481492111601,
    "rmse": 23.617559583239856,
    "mae": 21.955999786960394,
    "valid_count": 3,
    "novelty_bonus": null
  },
  "novelty_ci": {
    "validation": {
      "max_ci_upper_abs_rho": 0.8715002645462588,
      "novelty_passed": false,
      "threshold": 0.7,
      "per_invariant": {
        "density": {
          "point_abs_rho": 0.8356557785957638,
          "ci_upper_abs_rho": 0.8715002645462588
        },
        "clustering_coefficient": {
          "point_abs_rho": 0.16463488497780954,
          "ci_upper_abs_rho": 0.2795862802546049
        },
        "degree_assortativity": {
          "point_abs_rho": 0.1469767295345223,
          "ci_upper_abs_rho": 0.26841555789022814
        },
        "transitivity": {
          "point_abs_rho": 0.27775813109241004,
          "ci_upper_abs_rho": 0.3926982940176237
        },
        "average_degree": {
          "point_abs_rho": 0.6810684237822912,
          "ci_upper_abs_rho": 0.7359417759108006
        },
        "max_degree": {
          "point_abs_rho": 0.40995819390202065,
          "ci_upper_abs_rho": 0.5110764227215935
        },
        "spectral_radius": {
          "point_abs_rho": 0.6136768220494028,
          "ci_upper_abs_rho": 0.6859558262482672
        },
        "diameter": {
          "point_abs_rho": 0.8254614517107033,
          "ci_upper_abs_rho": 0.8574509486837997
        },
        "algebraic_connectivity": {
          "point_abs_rho": 0.8123591136125651,
          "ci_upper_abs_rho": 0.8566776859807199
        }
      }
    },
    "test": {
      "max_ci_upper_abs_rho": 0.8683903075213876,
      "novelty_passed": false,
      "threshold": 0.7,
      "per_invariant": {
        "density": {
          "point_abs_rho": 0.7519065533843408,
          "ci_upper_abs_rho": 0.8018785858625506
        },
        "clustering_coefficient": {
          "point_abs_rho": 0.07122203902899484,
          "ci_upper_abs_rho": 0.18993405055720627
        },
        "degree_assortativity": {
          "point_abs_rho": 0.020588030141781944,
          "ci_upper_abs_rho": 0.15068706470836354
        },
        "transitivity": {
          "point_abs_rho": 0.1391663461552483,
          "ci_upper_abs_rho": 0.26131770177527497
        },
        "average_degree": {
          "point_abs_rho": 0.6532604814045414,
          "ci_upper_abs_rho": 0.717037309775437
        },
        "max_degree": {
          "point_abs_rho": 0.3713798807121057,
          "ci_upper_abs_rho": 0.47619300525605157
        },
        "spectral_radius": {
          "point_abs_rho": 0.5387246221591722,
          "ci_upper_abs_rho": 0.6221026206085954
        },
        "diameter": {
          "point_abs_rho": 0.8158204978290836,
          "ci_upper_abs_rho": 0.8558975810479496
        },
        "algebraic_connectivity": {
          "point_abs_rho": 0.827941819502085,
          "ci_upper_abs_rho": 0.8683903075213876
        }
      }
    }
  },
  "dataset_fingerprint": "af08648a118017775c4ac728a8e467b5c9cf7e503c9a2ce19baa0b26358f420b",
  "self_correction_stats": {
    "enabled": true,
    "max_retries": 1,
    "feedback_window": 3,
    "attempted_repairs": 164,
    "successful_repairs": 68,
    "failed_repairs": 96,
    "failure_categories": {
      "no_valid_train_predictions": 105,
      "below_train_threshold": 38,
      "below_novelty_threshold": 145
    }
  },
  "baseline_comparison": {
    "candidate": {
      "val_spearman": 0.9352973339063481,
      "test_spearman": 0.9470658869468552
    },
    "pysr": {
      "status": "ok",
      "val_spearman": 0.9817130016804002,
      "test_spearman": 0.9747089832405184
    }
  },
  "success_criteria": {
    "success_spearman_threshold": 0.85,
    "threshold_passed": true,
    "require_baselines_for_success": false,
    "baselines_available": true,
    "baselines_healthy": true,
    "stat_baseline_ok": true,
    "pysr_ok": true,
    "baselines_passed": true,
    "enforce_pysr_parity_for_success": false,
    "pysr_parity_epsilon": 0.0,
    "pysr_status": "ok",
    "candidate_val_spearman": 0.9352973339063481,
    "pysr_val_spearman": 0.9817130016804002,
    "pysr_parity_passed": true,
    "pysr_parity_reason": "disabled"
  },
  "best_candidate_code": "def new_invariant(s):\n    eps = 1e-12\n\n    # Basic graph quantities\n    n          = s['n']\n    m          = s['m']\n    density    = s['density']\n    avg_deg    = s['avg_degree']\n    max_deg    = s['max_degree']\n    min_deg    = s['min_degree']\n    std_deg    = s['std_degree']\n    avg_clust  = s['avg_clustering']\n    trans      = s['transitivity']\n    assort     = s['degree_assortativity']\n    num_tri    = s['num_triangles']\n    degrees    = s['degrees']\n\n    # ----- Multiplicative components -----\n    base = pow(n, 0.5) / (avg_deg + 1)                    # size vs average degree\n    dens_factor = 1 / (density + eps)                    # sparsity\n    clu_factor  = pow(1 + avg_clust, 0.6)                # clustering\n    trans_factor = pow(1 + trans, 0.5)                   # transitivity\n    assort_factor = 1 + abs(assort)                      # assortativity\n    tri_factor = 1 + num_tri / (m + 1)                   # triangles\n    std_factor = 1 + std_deg / (avg_deg + eps)           # degree spread\n    size_edge_factor = pow(n / (m + 1), 0.5)             # size‑edge interaction\n\n    # Degree‑sequence shape via harmonic mean\n    nonzero = [d for d in degrees if d > 0]\n    if nonzero:\n        harmonic = len(nonzero) / sum(1.0 / d for d in nonzero)\n    else:\n        harmonic = 1.0\n    deg_shape_factor = harmonic / (avg_deg + eps)\n\n    # Relative average to maximum degree\n    rel_avg_max = 1 + avg_deg / (max_deg + 1)\n\n    # ----- Combine all factors -----\n    estimate = (base * dens_factor * clu_factor * trans_factor *\n                assort_factor * tri_factor * std_factor *\n                size_edge_factor * deg_shape_factor * rel_avg_max)\n\n    # Clamp to realistic bounds\n    if estimate < 1.0:\n        estimate = 1.0\n    elif estimate > n:\n        estimate = float(n)\n\n    return estimate"
}