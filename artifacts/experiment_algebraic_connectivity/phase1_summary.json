{
  "schema_version": 3,
  "experiment_id": "phase1_20260215T053414Z",
  "fitness_mode": "correlation",
  "model_name": "gpt-oss:20b",
  "best_candidate_id": "g19_i3_p0_533156832",
  "best_candidate_code_sha256": "95144218dbaea0b6f53481561fd623b58904f44762a7b032c4acc8062ffd59ba",
  "best_val_score": 0.4939659075538685,
  "stop_reason": "max_generations_reached",
  "success": false,
  "config": {
    "seed": 42,
    "target_name": "algebraic_connectivity",
    "num_train_graphs": 50,
    "num_val_graphs": 200,
    "num_test_graphs": 200,
    "max_generations": 20,
    "population_size": 5,
    "migration_interval": 10,
    "island_temperatures": [
      0.3,
      0.3,
      0.8,
      1.2
    ],
    "timeout_sec": 2.0,
    "memory_mb": 256,
    "sandbox_max_workers": null,
    "alpha": 0.5,
    "beta": 0.2,
    "gamma": 0.3,
    "train_score_threshold": 0.3,
    "early_stop_patience": 10,
    "artifacts_dir": "artifacts/experiment_algebraic_connectivity",
    "model_name": "gpt-oss:20b",
    "ollama_url": "http://localhost:11434/api/generate",
    "allow_remote_ollama": false,
    "checkpoint_keep_last": 3,
    "experiment_id": null,
    "enable_constrained_fallback": true,
    "stagnation_trigger_generations": 5,
    "constrained_recovery_generations": 3,
    "allow_late_constrained_recovery": true,
    "run_baselines": true,
    "persist_candidate_code_in_summary": true,
    "success_spearman_threshold": 0.85,
    "pysr_niterations": 30,
    "pysr_populations": 8,
    "pysr_procs": 0,
    "pysr_timeout_in_seconds": 60.0,
    "benchmark_seeds": [
      11,
      22,
      33,
      44,
      55
    ],
    "novelty_bootstrap_samples": 1000,
    "novelty_threshold": 0.7,
    "enforce_pysr_parity_for_success": false,
    "pysr_parity_epsilon": 0.0,
    "require_baselines_for_success": false,
    "persist_prompt_and_response_logs": true,
    "llm_timeout_sec": 600.0,
    "enable_self_correction": true,
    "self_correction_max_retries": 1,
    "self_correction_feedback_window": 3,
    "novelty_gate_threshold": 0.15,
    "fitness_mode": "correlation",
    "bound_tolerance": 1e-09,
    "success_bound_score_threshold": 0.7,
    "success_satisfaction_threshold": 0.95,
    "enable_map_elites": false,
    "map_elites_bins": 5
  },
  "final_generation": 20,
  "island_candidate_counts": {
    "0": 5,
    "1": 5,
    "2": 5,
    "3": 5
  },
  "train_metrics": {
    "spearman": 0.8285714285714285,
    "pearson": 0.869895300977582,
    "rmse": 4.776672276760331,
    "mae": 4.225812791114006,
    "valid_count": 50,
    "novelty_bonus": null
  },
  "val_metrics": {
    "spearman": 0.7644836120903022,
    "pearson": 0.8457318311030327,
    "rmse": 4.622807220665018,
    "mae": 4.025517829970246,
    "valid_count": 200,
    "novelty_bonus": 0.23551638790969776
  },
  "test_metrics": {
    "spearman": 0.7779479486987176,
    "pearson": 0.8869434401389028,
    "rmse": 4.864851704148974,
    "mae": 4.2415609015363005,
    "valid_count": 200,
    "novelty_bonus": 0.22205205130128236
  },
  "sanity_metrics": {
    "spearman": -1.0,
    "pearson": -0.8599942787707742,
    "rmse": 1.0802470915019544,
    "mae": 0.8721814186668366,
    "valid_count": 3,
    "novelty_bonus": null
  },
  "novelty_ci": {
    "validation": {
      "max_ci_upper_abs_rho": 0.8160410809824711,
      "novelty_passed": false,
      "threshold": 0.7,
      "per_invariant": {
        "density": {
          "point_abs_rho": 0.4337229574785087,
          "ci_upper_abs_rho": 0.5290900611782257
        },
        "clustering_coefficient": {
          "point_abs_rho": 0.0654750118649837,
          "ci_upper_abs_rho": 0.17085223342243208
        },
        "degree_assortativity": {
          "point_abs_rho": 0.2018030450761269,
          "ci_upper_abs_rho": 0.34314877642774294
        },
        "transitivity": {
          "point_abs_rho": 0.21531240441808183,
          "ci_upper_abs_rho": 0.3350382273199121
        },
        "average_degree": {
          "point_abs_rho": 0.71889761757075,
          "ci_upper_abs_rho": 0.7772206558835159
        },
        "max_degree": {
          "point_abs_rho": 0.21222750649837654,
          "ci_upper_abs_rho": 0.3246966552913298
        },
        "spectral_radius": {
          "point_abs_rho": 0.5232955823895599,
          "ci_upper_abs_rho": 0.5999747819719427
        },
        "diameter": {
          "point_abs_rho": 0.7109257746111597,
          "ci_upper_abs_rho": 0.776594494179381
        },
        "algebraic_connectivity": {
          "point_abs_rho": 0.7644836120903022,
          "ci_upper_abs_rho": 0.8160410809824711
        }
      }
    },
    "test": {
      "max_ci_upper_abs_rho": 0.8323656114266738,
      "novelty_passed": false,
      "threshold": 0.7,
      "per_invariant": {
        "density": {
          "point_abs_rho": 0.3792268339321846,
          "ci_upper_abs_rho": 0.47639236413584285
        },
        "clustering_coefficient": {
          "point_abs_rho": 0.019289850309053978,
          "ci_upper_abs_rho": 0.15111985322404048
        },
        "degree_assortativity": {
          "point_abs_rho": 0.05544138603465087,
          "ci_upper_abs_rho": 0.19322726567473184
        },
        "transitivity": {
          "point_abs_rho": 0.08311781833144588,
          "ci_upper_abs_rho": 0.2152228659120581
        },
        "average_degree": {
          "point_abs_rho": 0.612815766101162,
          "ci_upper_abs_rho": 0.694404748485056
        },
        "max_degree": {
          "point_abs_rho": 0.14244486120470135,
          "ci_upper_abs_rho": 0.2643198533396335
        },
        "spectral_radius": {
          "point_abs_rho": 0.3977019425485637,
          "ci_upper_abs_rho": 0.5021814071049074
        },
        "diameter": {
          "point_abs_rho": 0.7266248885078961,
          "ci_upper_abs_rho": 0.7922551970690056
        },
        "algebraic_connectivity": {
          "point_abs_rho": 0.7779479486987176,
          "ci_upper_abs_rho": 0.8323656114266738
        }
      }
    }
  },
  "dataset_fingerprint": "637d95d4484c1f362dc1f41bf877758f079a167eee79dbdc290f1bc293052628",
  "self_correction_stats": {
    "enabled": true,
    "max_retries": 1,
    "feedback_window": 3,
    "attempted_repairs": 75,
    "successful_repairs": 36,
    "failed_repairs": 39,
    "failure_categories": {
      "no_valid_train_predictions": 48,
      "below_train_threshold": 43,
      "below_novelty_threshold": 55
    }
  },
  "baseline_comparison": {
    "candidate": {
      "val_spearman": 0.7644836120903022,
      "test_spearman": 0.7779479486987176
    },
    "pysr": {
      "status": "ok",
      "val_spearman": 0.9408895222380561,
      "test_spearman": 0.9375039375984401
    }
  },
  "success_criteria": {
    "success_spearman_threshold": 0.85,
    "threshold_passed": false,
    "require_baselines_for_success": false,
    "baselines_available": true,
    "baselines_healthy": true,
    "stat_baseline_ok": true,
    "pysr_ok": true,
    "baselines_passed": true,
    "enforce_pysr_parity_for_success": false,
    "pysr_parity_epsilon": 0.0,
    "pysr_status": "ok",
    "candidate_val_spearman": 0.7644836120903022,
    "pysr_val_spearman": 0.9408895222380561,
    "pysr_parity_passed": true,
    "pysr_parity_reason": "disabled"
  },
  "best_candidate_code": "def new_invariant(s):\n    \"\"\"\n    Lightweight estimate of algebraic connectivity from pre‑computed\n    graph statistics.\n\n    The score is a product of several dimensionless factors that\n    capture the main structural influences on the second‑smallest\n    Laplacian eigenvalue.  Each component is strictly positive and\n    uses only built‑in arithmetic, so the function can be called\n    without any external libraries.\n\n    Parameters\n    ----------\n    s : dict\n        Pre‑computed graph features.  Expected keys:\n\n        n, m, density, avg_degree, max_degree, min_degree,\n        std_degree, avg_clustering, transitivity,\n        degree_assortativity, num_triangles, degrees\n\n    Returns\n    -------\n    float\n        Proxy for the algebraic connectivity.  Larger values\n        indicate a graph expected to have a larger Fiedler value.\n    \"\"\"\n    # small constant to keep denominators safe\n    eps = 1e-12\n\n    n          = float(s['n'])\n    avg_deg    = float(s['avg_degree'])\n    max_deg    = float(s['max_degree'])\n    min_deg    = float(s['min_degree'])\n    std_deg    = float(s['std_degree'])\n    density    = float(s['density'])\n    num_tri    = float(s['num_triangles'])\n    avg_clust  = float(s['avg_clustering'])\n    trans      = float(s['transitivity'])\n    assort     = float(s['degree_assortativity'])\n\n    # ---- 1. Size normalisation ----\n    size_term = n ** 0.5                     # √n\n\n    # ---- 2. Degree regularity ----\n    # More regular degree distributions (low std) raise connectivity\n    degree_term = (avg_deg + 1.0) / (std_deg + 1.0 + eps)\n\n    # ---- 3. Triangle richness ----\n    max_tri_possible = n * (n - 1.0) * (n - 2.0) / 6.0\n    tri_frac = num_tri / (max_tri_possible + eps)\n    triangle_term = 1.0 + tri_frac ** 0.25\n\n    # ---- 4. Edge density effect ----\n    density_term = density ** 0.5             # √density\n\n    # ---- 5. Penalty for high clustering ----\n    clustering_pen = 1.0 / (1.0 + avg_clust ** 1.5)\n\n    # ---- 6. Penalty for high transitivity ----\n    trans_pen = 1.0 / (1.0 + trans ** 1.2)\n\n    # ---- 7. Penalty for strong assortativity ----\n    assort_pen = 1.0 / (1.0 + abs(assort) ** 0.9)\n\n    # ---- combine multiplicatively ----\n    score = (size_term *\n             degree_term *\n             triangle_term *\n             density_term *\n             clustering_pen *\n             trans_pen *\n             assort_pen)\n\n    return score"
}