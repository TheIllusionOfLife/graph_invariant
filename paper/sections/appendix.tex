\section{Dataset Statistics}\label{app:datasets}

Table~\ref{tab:datasets} summarises the five knowledge graph domains.

\begin{table}[h]
\centering
\caption{Knowledge graph domain statistics.  All KGs use the shared
seven-relation type vocabulary.}\label{tab:datasets}
\begin{tabular}{lcccl}
\toprule
Domain & Entities & Edges & Entity types & Primary relations \\
\midrule
Linear algebra   & 17  & 45  & 5 & \texttt{derives}, \texttt{depends\_on} \\
Periodic table   & 22  & 58  & 4 & \texttt{maps\_to}, \texttt{generalizes} \\
% Note: entity counts match the KG builders in src/harmony/datasets/.
% Periodic table: 22 entities (subset used for calibration experiments).
Astronomy        & 20  & 52  & 6 & \texttt{explains}, \texttt{derives} \\
Physics          & 18  & 48  & 5 & \texttt{derives}, \texttt{explains} \\
Materials science & 19 & 50  & 5 & \texttt{maps\_to}, \texttt{depends\_on} \\
\bottomrule
\end{tabular}
\end{table}

\section{Ablation Details}\label{app:ablation}

The ablation study (Table~\ref{tab:ablation}) uses the linear algebra KG with
$n_{\text{bootstrap}} = 200$ samples.  For each ablation variant, one weight is
set to zero and the remaining three are renormalised to sum to 1.  Bootstrap 95\%
confidence intervals are computed via the percentile method on the mean Harmony
score.

\paragraph{Weight sensitivity.}
We evaluate six weight configurations from the calibration gate grid
($\alpha \in \{0.3, 0.5, 0.7\}$, $\beta \in \{0.1, 0.3\}$,
$\gamma = \delta = 0.25$).  All configurations show Harmony~$>$~frequency
baseline, with $\alpha = 0.5, \beta = 0.3$ yielding the highest mean Harmony
score.  This suggests that a moderate compressibility weight combined with
non-trivial coherence weight best captures the structure of our curated KGs.

\section{Proposal Validation Rules}\label{app:validation}

The deterministic validator enforces three rules:
\begin{enumerate}[nosep]
  \item \textbf{Text length}: \texttt{claim}, \texttt{justification},
    and \texttt{falsification\_condition} must each be $\geq 10$ characters.
    \texttt{kg\_domain} must be $\geq 3$ characters (controlled vocabulary,
    not free text).
  \item \textbf{Type-specific fields}: \texttt{ADD\_EDGE} requires
    \texttt{source\_entity}, \texttt{target\_entity}, and \texttt{edge\_type};
    \texttt{ADD\_ENTITY} requires \texttt{entity\_id} and \texttt{entity\_type};
    \texttt{REMOVE\_EDGE} requires \texttt{source\_entity},
    \texttt{target\_entity}, and \texttt{edge\_type};
    \texttt{REMOVE\_ENTITY} requires \texttt{entity\_id}.
  \item \textbf{Edge type validity}: \texttt{edge\_type} must be one of the seven
    valid \texttt{EdgeType} names.
\end{enumerate}

\section{Full Proposal Examples}\label{app:proposals}

Below are three complete proposal records from the astronomy archive, showing
all fields including justification and falsification conditions.

\paragraph{Proposal 1: Stellar nucleosynthesis $\to$ heavy element abundance.}
\begin{itemize}[nosep]
  \item \textbf{Type}: \texttt{ADD\_EDGE}
  \item \textbf{Source}: \texttt{stellar\_nucleosynthesis}
  \item \textbf{Target}: \texttt{heavy\_element\_abundance}
  \item \textbf{Edge type}: \texttt{explains}
  \item \textbf{Claim}: ``Stellar nucleosynthesis explains the observed abundance
    pattern of heavy elements in planetary nebulae.''
  \item \textbf{Justification}: ``The s-process and r-process nucleosynthesis
    pathways in AGB stars and supernovae produce characteristic abundance
    patterns that match spectroscopic observations of planetary nebulae.''
  \item \textbf{Falsification}: ``Discovery of heavy element abundance patterns
    in planetary nebulae inconsistent with any known nucleosynthesis pathway
    would falsify this claim.''
\end{itemize}

\paragraph{Proposal 2: Mass--luminosity relation derivation.}
\begin{itemize}[nosep]
  \item \textbf{Type}: \texttt{ADD\_EDGE}
  \item \textbf{Source}: \texttt{hydrostatic\_equilibrium}
  \item \textbf{Target}: \texttt{mass\_luminosity\_relation}
  \item \textbf{Edge type}: \texttt{derives}
  \item \textbf{Claim}: ``The mass--luminosity relation derives from hydrostatic
    equilibrium in main sequence stars.''
  \item \textbf{Justification}: ``Balancing gravitational pressure against
    radiation pressure in the stellar core, combined with opacity-dependent
    energy transport, yields $L \propto M^{3.5}$ for main sequence stars.''
  \item \textbf{Falsification}: ``A main sequence star population where
    luminosity is uncorrelated with mass would disprove this derivation.''
\end{itemize}

\paragraph{Proposal 3: Magnetar as new entity.}
\begin{itemize}[nosep]
  \item \textbf{Type}: \texttt{ADD\_ENTITY}
  \item \textbf{Entity ID}: \texttt{magnetar}
  \item \textbf{Entity type}: \texttt{celestial\_object}
  \item \textbf{Claim}: ``Magnetar generalises the neutron star category with
    extreme magnetic field properties ($B > 10^{14}$~G).''
  \item \textbf{Justification}: ``Magnetars are observationally distinct from
    ordinary neutron stars due to their ultra-strong magnetic fields, which power
    soft gamma repeaters and anomalous X-ray pulsars.''
  \item \textbf{Falsification}: ``Evidence that magnetar-attributed emissions
    originate from non-magnetic mechanisms would undermine this classification.''
\end{itemize}

\section{LLM Prompt Templates}\label{app:prompts}

We include the exact prompt templates used for proposal generation.  Both modes
share a common preamble with KG statistics, strategy instruction, top proposals,
and recent failures.

\paragraph{Free mode (default).}
The free-mode prompt shows a sample of up to 20 entity IDs from the KG to
ground the LLM without over-constraining it:
\begin{quote}\small\ttfamily
You are a theory-discovery agent for knowledge graph research.\\
Knowledge Graph: domain='\{domain\}', entities=\{N\}, edges=\{M\}\\[4pt]
Strategy: \{REFINEMENT|COMBINATION|NOVEL\} --- \{strategy description\}\\[4pt]
Top proposals so far: \{top 3 proposals or "None yet"\}\\
Recent validation failures: \{up to 5 failure messages or "None"\}\\[4pt]
EXAMPLE ENTITY IDs from this KG (showing K of N): \{entity\_1\}, \{entity\_2\}, ...\\
VALID EDGE TYPES: depends\_on, derives, equivalent\_to, maps\_to, explains,
contradicts, generalizes\\
IMPORTANT: source\_entity and target\_entity MUST be exact entity IDs from this
KG.\\[4pt]
Return ONLY a JSON object (no extra text) with fields: id, proposal\_type,
claim, justification, falsification\_condition, kg\_domain, source\_entity,
target\_entity, edge\_type, entity\_id, entity\_type
\end{quote}

\paragraph{Constrained mode (stagnation recovery).}
When an island stagnates ($S = 5$ generations without valid proposals), the
prompt switches to constrained mode, which enumerates \emph{all} valid entity
IDs and edge type names explicitly:
\begin{quote}\small\ttfamily
... [same preamble] ...\\[4pt]
VALID ENTITY IDs (use EXACTLY as written): \{all entity IDs\}\\
VALID EDGE TYPES (use EXACTLY as written): depends\_on, derives, equivalent\_to,
maps\_to, explains, contradicts, generalizes
\end{quote}

\section{Proposal Failure Rate Statistics}\label{app:failure-rate}

Figure~\ref{fig:convergence} shows the valid proposal rate converging to
$\geq 0.50$ by generation~10 across all discovery domains.  The initial failure
rate (generations 1--3) is typically 60--80\%, dominated by entity grounding
errors (referencing entities not in the KG).  The entity sample in free-mode
prompts (up to 20 entities) and the stagnation recovery mechanism
(Section~\ref{sec:search}) together reduce failures to $<$30\% by generation~10.
Constrained-mode prompts achieve $\geq$95\% validity but produce less diverse
proposals.

\section{Code and Data Availability}\label{app:code-data}

Source code and all experimental artifacts are publicly available:
\begin{itemize}[nosep]
  \item \textbf{Code repository}: anonymised for review; will be released upon
    acceptance.
  \item \textbf{Data archive}: Zenodo (DOI: \texttt{10.5281/zenodo.18795697}),
    containing all KG datasets, checkpoints, and generated proposals.
\end{itemize}

\section{Hyperparameter Settings}\label{app:hyperparams}

Table~\ref{tab:hyperparams} lists all hyperparameters used in the experiments.

\begin{table}[h]
\centering
\caption{Hyperparameter settings.}\label{tab:hyperparams}
\begin{tabular}{llc}
\toprule
Component & Parameter & Value \\
\midrule
\multirow{4}{*}{Harmony metric}
  & $\alpha$ (compressibility) & 0.25 \\
  & $\beta$ (coherence) & 0.25 \\
  & $\gamma$ (symmetry) & 0.25 \\
  & $\delta$ (generativity) & 0.25 \\
\midrule
\multirow{6}{*}{DistMult}
  & Embedding dimension & 50 \\
  & Training epochs & 100 \\
  & Margin & 1.0 \\
  & Learning rate & 0.01 \\
  & Negative samples & 5 \\
  & Mask ratio & 0.20 \\
\midrule
\multirow{5}{*}{Search loop}
  & Islands & 4 \\
  & Population per island & 5 \\
  & Generations & 20 \\
  & Migration interval & 10 \\
  & Temperatures & $\{0.3, 0.3, 0.8, 1.2\}$ \\
\midrule
\multirow{2}{*}{Stagnation}
  & Trigger generations ($S$) & 5 \\
  & Recovery generations ($R$) & 3 \\
\midrule
\multirow{2}{*}{MAP-Elites}
  & Grid size & $5 \times 5$ \\
  & Descriptors & simplicity, Harmony gain \\
\midrule
Value function
  & $\lambda$ (cost penalty) & 0.1 \\
\bottomrule
\end{tabular}
\end{table}

\paragraph{Compute resources.}
All experiments were run on a single Apple M-series CPU (no GPU).  Each domain
completes 20~generations in approximately 10~minutes of wall-clock time
(including LLM inference via locally served Ollama).  The total compute for the
three reported domains is under 30~CPU-minutes.  Preliminary experiments during
development required an additional $\sim$2~hours of CPU time.
